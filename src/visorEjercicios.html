<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Visor de Ejercicios</title>

</head>
<body>
    <div class='container'>
      <style type="text/css" media="all">
        canvas#canvas {
			margin-top: 20px;
        	width: 420px;
        	height: 480px;
			border: 1px solid #ccc;
        }
      </style>
      <canvas id='canvas'></canvas>
    </div>

	<script src='../compilados/ejerciciosPilas.js'></script>

	<script>
		function nombreDeClase()
		{
		    var hash = window.location.href.slice(window.location.href.indexOf('?') + 1);
		    var name = hash.split('=')[1];
		    if (name) {
		    	return name;
		    }else{
		    	return "ElObreroCopado";
		    }
		};

		var canvas_element = document.getElementById('canvas');
		window['canvas'] = canvas_element;

		pilasengine.iniciar({
			ancho: 420,
			alto: 480,
			canvas: canvas_element,
			data_path: 'data',
			imagenesExtra: [
			                'fondos.estrellas.png',
			                'fondos.obrero.png',
			                'fondos.nubes.png',
			                'casillaLightbot.png',
			                'perro_cohete.png',
			                'hueso.png',
			                'mock_llave.png',
			                'mock_caballero.png',
			                'mock_cofre.png',
			                'mock_heroe.png',
			                'mock_mago.png',
			                'mock_unicornio.png',
                      'casillaArriba.png',
                      'casillaAbajo.png',
                      'casillaDerecha.png',
                      'casillaIzquierda.png',
			                'banana.png',
			                'manzana.png',
			                'casilla_base.png',
			                'robot.png',
			                'casilla_con_luz.png',
			                'invisible.png',
			                'sin_imagen.png',
			                'maria.png',
			                'sandia.png',
			                'compu_animada.png',
                      'globoAnimado.png',
                      'cangrejo.png',
                      'buzo.png',
                      'fondos.mar.png',
                      'pez1.png',
                      'pez2.png',
                      'pez3.png',
                      'alimento_pez.png',
                      'ratonAnimado.png',
                      'quesoAnimado.png',
                      'naveAnimada.png',
                      'robotAnimado.png',
                      'pelotaAnimada.png',
                      'fondos.biblioteca.png',
                      'fondos.reparandoLaNave.png',
                      'casilla.reparandoNave.png',
                      'marcianoVerdeAnimado.png',
                      'carbon_animado.png',
                      'hierro_animado.png',
			                ]});

		eval('pilas.mundo.gestor_escenas.cambiar_escena(new ' + nombreDeClase() + '());');

		pilas.ejecutar();
	 </script>


</body>
</html>
